---
title: "raster_terra_stars"
author: "Konstantin Schellenberg"
date: "21 1 2020"
output: ioslides_presentation
    
---

TODO Rmd presentation:

ioslides am besten?
Inhaltsverzeichnis
Seitenzahlen
Fu√üzeile
Theme
Fond
Fondsize

TODO R script:
create random rasters


# Raster - Terra - Stars
**Raster handling in R**
<br>
<br>
Konstantin Schellenberg, GEO404, WS 2019/20
<br>
Superviser: MSc. Patrick Schratz

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)

library(raster)
library(tidyverse)
# library(stars)
# library(terra)
```

## `Raster`
- rspatial community <https://www.rspatial.org/>
- creator: Robert J. Hijmans
- maintainer, authors: ~

### Basics
Rasters are spatial data on a regular grid with elements called "pixels". Contrast to vector data, representing points, lines & polygons (see `sp`, `sf`)

Benefits: <br>

- not loading into local memory 
- only stores metainformation (layer number, spatial extent, pixel size) in Raster* objects. 
- Raster*-functions break down tasks to lightweight chunks to be processed sequentially. 
<br> 
-> large scale data will not overload memory

##
### Classes

- RasterLayer `raster(obj)`
- RasterStack: Links to multiple files
- RasterBrick: Only links to one file, but more efficient. E.g. multiband remote sensing layers

```{r echo=T}
raster()
stack()
brick()
```

##
### Simple raster algebra

creating a raster:

```{r 1-raster_creation, echo=TRUE}
raster = raster(ncol = 100, # extent
                nrow = 100)
dim(raster)
values(raster) = 10 # populate with constant
```

##
applying some simple tasks:

```{r 1-algebra, echo=TRUE}
add = raster + 10
sqrt = sqrt(raster)

raster[1:ncol(raster)/2,] = 11 # indexing cells, assigning new values
raster[, 1:ncol(raster)/2] = 12
raster[raster == 10] = 30
```

## Simple Plotting

```{r 1-plot, echo=TRUE}
plot(raster)
```

## 
### summaries

```{r 1-summaries, echo=TRUE}
mean = mean(raster, add)
plot(mean)
```

##
### High-level methods

- functions normally implemented in GIS or remote sensing software
- 1st argument: Raster* object (mostly)

crop (subsetting with `sp` object)
trim (removes NA from cropped rasters)

```{r}
library()
data()
raster::crop()
```




## Terra
## Stars

## Slide with R Output

```{r cars, echo = TRUE}
summary(cars)
```

## Slide with Plot

```{r pressure}
plot(pressure)
```

